import{e,f as t,C as n,q as r,n as l,t as a,i,c as s,k as o,p as d,j as u,o as c,g,h as m,m as p}from"./index-DCtdVlbU.js";import{a as h,e as b,b as v,d as f}from"./index-BA7OnkC-.js";var x=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M10 19l-7-7m0 0l7-7m-7 7h18">'),y=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">'),w=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z">'),C=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">'),k=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">'),S=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z">'),$=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M5 13l4 4L19 7">'),D=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M6 18L18 6M6 6l12 12">'),_=a('<svg class="h-5 w-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),j=a('<div><div class="flex items-center gap-3 mb-4"><h3 class="text-lg font-semibold text-gray-100">'),M=a('<div><span class="text-sm font-medium text-gray-200"></span><span class="text-sm text-gray-100">'),A=a('<form class=space-y-4><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-200 mb-1">Start Time</label></div><div><label class="block text-sm font-medium text-gray-200 mb-1">End Time</label></div></div><div><label class="block text-sm font-medium text-gray-200 mb-1">Reason</label></div><div><label class="block text-sm font-medium text-gray-200 mb-1">Status</label></div><div><label class="block text-sm font-medium text-gray-200 mb-1">Notes</label></div><div class="flex items-center gap-3 pt-4"><button type=submit class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"><span></span></button><button type=button class="flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"><span>Cancel'),B=a('<input type=datetime-local required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),L=a('<input type=datetime-local class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),I=a('<input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),P=a('<select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=scheduled>Scheduled</option><option value=confirmed>Confirmed</option><option value=in-progress>In Progress</option><option value=completed>Completed</option><option value=cancelled>Cancelled</option><option value=no_show>No Show'),N=a('<textarea rows=4 class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),T=a('<button class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"><span>Edit'),E=a('<button class="flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"><span>Delete'),V=a('<div class="flex items-center justify-center h-64"><div class="text-lg text-gray-200">Loading appointment...'),H=a('<div class="flex items-center justify-center h-64"><div class="text-lg text-red-600">Failed to load appointment'),z=a('<div class=space-y-3><div class="flex items-center justify-between py-2"><span class="text-sm font-medium text-gray-600">Status</span><span>'),F=a('<p class="text-gray-700 whitespace-pre-wrap">'),O=a("<div class=space-y-3>"),R=a('<div class=space-y-3><button class="w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors"><div class="font-medium text-gray-100">Reschedule</div><div class="text-sm text-gray-200">Change appointment time</div></button><button class="w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors"><div class="font-medium text-gray-100">Send Reminder</div><div class="text-sm text-gray-200">Send SMS/Email reminder</div></button><button class="w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors"><div class="font-medium text-gray-100">View History</div><div class="text-sm text-gray-200">Patient appointment history'),q=a('<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"></div><div class=space-y-6>'),U=a('<div class="fixed inset-0 z-50 flex items-center justify-center p-4"><div class="absolute inset-0 bg-black/40"aria-hidden=true></div><div class="relative w-full max-w-md rounded-lg bg-slate-800 p-6 shadow-xl"><div class=text-center><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100 mb-4"></div><h3 class="text-lg font-semibold text-gray-100 mb-2">Delete Appointment</h3><p class="text-gray-300 mb-6">Are you sure you want to delete this appointment? This action cannot be undone.</p><div class="flex items-center justify-center gap-3"><button class="px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors">Cancel</button><button class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors">'),Q=a('<div class="min-h-screen p-6"><div class=mb-6><button class="flex items-center gap-2 text-gray-300 hover:text-gray-100 mb-4 transition-colors"><span>Back to Appointments</span></button><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-200">Appointment Details</h1><p class=text-gray-200>View and manage appointment information</p></div><div class="flex items-center gap-3">');const G=()=>x(),J=()=>y(),K=()=>w(),W=()=>C(),X=()=>k(),Y=()=>S(),Z=()=>$(),ee=()=>D(),te=()=>_(),ne=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),re=e=>{return n=j(),r=n.firstChild,l=r.firstChild,i(r,(t=d(()=>!!e.icon),()=>t()&&s(e.icon,{})),l),i(l,()=>e.title),i(n,()=>e.children,null),u(()=>c(n,`rounded-lg shadow-sm border border-gray-200 p-6 ${e.class||""}`)),n;var t,n,r,l},le=e=>{return t=M(),n=t.firstChild,r=n.nextSibling,i(n,()=>e.label),i(r,()=>e.value),u(()=>c(t,`flex items-center justify-between py-2 ${e.class||""}`)),t;var t,n,r},ae=e=>{const t=g(()=>({defaultValues:{start_time:e.appointment.start_time?new Date(e.appointment.start_time).toISOString().slice(0,16):"",end_time:e.appointment.end_time?new Date(e.appointment.end_time).toISOString().slice(0,16):"",reason:e.appointment.reason||"",notes:e.appointment.notes||"",status:e.appointment.status||"scheduled"},onSubmit:async({value:t})=>{e.onSave(t)}}));return(()=>{var n=A(),r=n.firstChild,l=r.firstChild;l.firstChild;var a=l.nextSibling;a.firstChild;var o=r.nextSibling;o.firstChild;var d=o.nextSibling;d.firstChild;var c=d.nextSibling;c.firstChild;var g=c.nextSibling.firstChild,p=g.firstChild,h=g.nextSibling,b=h.firstChild;return n.addEventListener("submit",e=>{e.preventDefault(),t.handleSubmit()}),i(l,s(t.Field,{name:"start_time",validators:{onChange:({value:e})=>e?void 0:"Start time is required"},children:e=>{return t=B(),m(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),u(()=>t.value=e().state.value||""),t;var t}}),null),i(a,s(t.Field,{name:"end_time",children:e=>{return t=L(),m(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),u(()=>t.value=e().state.value||""),t;var t}}),null),i(o,s(t.Field,{name:"reason",children:e=>{return t=I(),m(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),u(()=>t.value=e().state.value||""),t;var t}}),null),i(d,s(t.Field,{name:"status",children:e=>{return t=P(),m(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),u(()=>t.value=e().state.value||"scheduled"),t;var t}}),null),i(c,s(t.Field,{name:"notes",children:e=>{return t=N(),m(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),u(()=>t.value=e().state.value||""),t;var t}}),null),i(g,s(Z,{}),p),i(p,()=>e.isLoading?"Saving...":"Save Changes"),m(h,"click",e.onCancel,!0),i(h,s(ee,{}),b),u(t=>{var n=e.isLoading,r=e.isLoading;return n!==t.e&&(g.disabled=t.e=n),r!==t.t&&(h.disabled=t.t=r),t},{e:void 0,t:void 0}),n})()},ie=function(){const a=e(),g=()=>r.useParams()().appointmentId,[m,p]=t(!1),[x,y]=t(!1),w=h(n.Appointments,g()),C=b(n.Appointments),k=v(n.Appointments),S=l(()=>w.data);f(n.Appointments,g());const $=async e=>{try{await C.mutateAsync({id:g(),data:{start_time:new Date(e.start_time).toISOString(),end_time:e.end_time?new Date(e.end_time).toISOString():void 0,reason:e.reason,notes:e.notes,status:e.status}}),p(!1)}catch(t){}},D=async()=>{try{await k.mutateAsync({id:g()}),a({to:"/appointments"})}catch(e){}};return _=Q(),j=_.firstChild.firstChild,M=j.firstChild,A=j.nextSibling.firstChild.nextSibling,j.$$click=()=>a({to:"/appointments"}),i(j,s(G,{}),M),i(A,s(o,{get when(){return!m()},get children(){return[(n=T(),r=n.firstChild,n.$$click=()=>p(!0),i(n,s(Y,{}),r),n),(e=E(),t=e.firstChild,e.$$click=()=>y(!0),i(e,s(te,{}),t),e)];var e,t,n,r}})),i(_,s(o,{get when(){return w.isLoading},get children(){return V()}}),null),i(_,s(o,{get when(){return w.isError},get children(){return H()}}),null),i(_,s(o,{get when(){return S()},get children(){var e=q(),t=e.firstChild,n=t.nextSibling;return i(t,s(re,{title:"Appointment Information",icon:J,get children(){return[s(o,{get when(){return!m()},get children(){var e=z(),t=e.firstChild,n=t.firstChild.nextSibling;return i(e,s(le,{label:"Date",get value(){return e=S().start_time,new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});var e}}),t),i(e,s(le,{label:"Start Time",get value(){return ne(S().start_time)}}),t),i(e,s(le,{label:"End Time",get value(){return d(()=>!!S().end_time)()?ne(S().end_time):"Not specified"}}),t),i(e,s(le,{label:"Duration",get value(){return(()=>{if(!S()?.start_time||!S()?.end_time)return"Not specified";const e=new Date(S().start_time),t=new Date(S().end_time).getTime()-e.getTime(),n=Math.round(t/6e4);if(n<60)return`${n} minutes`;const r=Math.floor(n/60),l=n%60;return l>0?`${r}h ${l}m`:`${r}h`})()}}),t),i(e,s(le,{label:"Reason",get value(){return S().reason||"Not specified"}}),t),i(n,()=>(e=>{switch(e){case"scheduled":return"Scheduled";case"confirmed":return"Confirmed";case"in-progress":return"In Progress";case"completed":return"Completed";case"cancelled":return"Cancelled";case"no_show":return"No Show";default:return e}})(S().status)),u(()=>c(n,`px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"confirmed":case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(S().status)}`)),e}}),s(o,{get when(){return m()},get children(){return s(ae,{get appointment(){return S()},onSave:$,onCancel:()=>p(!1),get isLoading(){return C.isPending}})}})]}}),null),i(t,s(o,{get when(){return d(()=>!!S().notes)()&&!m()},get children(){return s(re,{title:"Notes",icon:W,get children(){var e=F();return i(e,()=>S().notes),e}})}}),null),i(t,s(re,{title:"Patient Information",icon:K,get children(){var e=O();return i(e,s(le,{label:"Patient ID",get value(){return S().patient?.[0]||"Not assigned"}}),null),i(e,s(le,{label:"Name",value:"Patient details would be loaded here"}),null),i(e,s(le,{label:"Phone",value:"Phone number would be loaded here"}),null),i(e,s(le,{label:"Email",value:"Email would be loaded here"}),null),e}}),null),i(t,s(re,{title:"Doctor Information",icon:W,get children(){var e=O();return i(e,s(le,{label:"Doctor ID",get value(){return S().doctor?.[0]||"Not assigned"}}),null),i(e,s(le,{label:"Name",value:"Doctor details would be loaded here"}),null),i(e,s(le,{label:"Specialty",value:"Specialty would be loaded here"}),null),e}}),null),i(t,s(re,{title:"Clinic Information",icon:X,get children(){var e=O();return i(e,s(le,{label:"Clinic ID",get value(){return S().clinic?.[0]||"Not assigned"}}),null),i(e,s(le,{label:"Name",value:"Clinic details would be loaded here"}),null),i(e,s(le,{label:"Address",value:"Address would be loaded here"}),null),i(e,s(le,{label:"Phone",value:"Phone would be loaded here"}),null),e}}),null),i(n,s(re,{title:"Quick Actions",get children(){return R()}})),e}}),null),i(_,s(o,{get when(){return x()},get children(){var e=U(),t=e.firstChild.nextSibling.firstChild.firstChild,n=t.nextSibling.nextSibling.nextSibling.firstChild,r=n.nextSibling;return i(t,s(te,{})),n.$$click=()=>y(!1),r.$$click=D,i(r,()=>k.isPending?"Deleting...":"Delete"),u(()=>r.disabled=k.isPending),e}}),null),_;var _,j,M,A};p(["click","input"]);export{ie as component};
