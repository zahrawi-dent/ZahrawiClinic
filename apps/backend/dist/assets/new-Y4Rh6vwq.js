import{e,C as r,f as a,g as t,t as n,i as l,c as s,h as i,j as d,k as u,m as o}from"./index-DCtdVlbU.js";import{u as m}from"./index-BA7OnkC-.js";var c=n('<div class="min-h-screen p-6 space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl md:text-3xl font-bold text-gray-100">New Patient</h1><p class=text-gray-200>Create a patient profile to start tracking appointments and treatments</p></div></div><form class="rounded-lg shadow-sm border border-gray-200 p-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-200 mb-1">First name</label></div><div><label class="block text-sm font-medium text-gray-200 mb-1">Last name</label></div><div><label class="block text-sm font-medium text-gray-200 mb-1">Phone</label></div><div><label class="block text-sm font-medium text-gray-200 mb-1">Email</label></div><div class=md:col-span-2><label class="block text-sm font-medium text-gray-200 mb-1">Address</label></div><div><label class="block text-sm font-medium text-gray-200 mb-1">Date of birth</label></div><div><label class="block text-sm font-medium text-gray-200 mb-1">Sex</label></div></div><div class="flex items-center justify-end gap-2 pt-4"><button type=button class="rounded-md border px-4 py-2 hover:bg-gray-50">Cancel</button><button type=submit class="rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50">'),b=n('<input name=first_name required class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),g=n('<div class="mt-1 text-xs text-red-600">'),v=n('<input name=last_name required class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),f=n('<input name=phone required class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),p=n('<input name=email type=email class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),h=n('<input name=address class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),x=n('<input name=dob type=date class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">'),y=n('<select name=sex class="bg-slate-900 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=male>Male</option><option value=female>Female');const C=function(){const n=e(),o=m(r.Patients),[C,w]=a(!1),S=t(()=>({defaultValues:{first_name:"",last_name:"",phone:"",email:"",address:"",dob:"",sex:"male"},onSubmit:async({value:e})=>{try{w(!0),await o.mutateAsync({data:{first_name:e.first_name,last_name:e.last_name,phone:e.phone,email:e.email,address:e.address,dob:e.dob?new Date(e.dob).toISOString():(new Date).toISOString(),sex:e.sex,primary_clinic:[]}}),n({to:"/patients"})}finally{w(!1)}}}));return(()=>{var e=c(),r=e.firstChild.nextSibling,a=r.firstChild,t=a.firstChild;t.firstChild;var m=t.nextSibling;m.firstChild;var w=m.nextSibling;w.firstChild;var $=w.nextSibling;$.firstChild;var k=$.nextSibling;k.firstChild;var _=k.nextSibling;_.firstChild;var F=_.nextSibling;F.firstChild;var B=a.nextSibling.firstChild,T=B.nextSibling;return r.addEventListener("submit",e=>{e.preventDefault(),S.handleSubmit()}),l(t,s(S.Field,{name:"first_name",validators:{onChange:({value:e})=>e?void 0:"First name is required"},children:e=>{return[(r=b(),i(r,"blur",e().handleBlur),r.$$input=r=>e().handleChange(r.currentTarget.value),d(()=>r.value=e().state.value||""),r),s(u,{get when(){return!!e().state.meta.errors?.length},get children(){var r=g();return l(r,()=>e().state.meta.errors?.[0]),r}})];var r}}),null),l(m,s(S.Field,{name:"last_name",validators:{onChange:({value:e})=>e?void 0:"Last name is required"},children:e=>{return[(r=v(),i(r,"blur",e().handleBlur),r.$$input=r=>e().handleChange(r.currentTarget.value),d(()=>r.value=e().state.value||""),r),s(u,{get when(){return!!e().state.meta.errors?.length},get children(){var r=g();return l(r,()=>e().state.meta.errors?.[0]),r}})];var r}}),null),l(w,s(S.Field,{name:"phone",validators:{onChange:({value:e})=>e?void 0:"Phone is required"},children:e=>{return[(r=f(),i(r,"blur",e().handleBlur),r.$$input=r=>e().handleChange(r.currentTarget.value),d(()=>r.value=e().state.value||""),r),s(u,{get when(){return!!e().state.meta.errors?.length},get children(){var r=g();return l(r,()=>e().state.meta.errors?.[0]),r}})];var r}}),null),l($,s(S.Field,{name:"email",validators:{onChange:({value:e})=>e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"Invalid email":void 0},children:e=>{return[(r=p(),i(r,"blur",e().handleBlur),r.$$input=r=>e().handleChange(r.currentTarget.value),d(()=>r.value=e().state.value||""),r),s(u,{get when(){return!!e().state.meta.errors?.length},get children(){var r=g();return l(r,()=>e().state.meta.errors?.[0]),r}})];var r}}),null),l(k,s(S.Field,{name:"address",children:e=>{return r=h(),i(r,"blur",e().handleBlur),r.$$input=r=>e().handleChange(r.currentTarget.value),d(()=>r.value=e().state.value||""),r;var r}}),null),l(_,s(S.Field,{name:"dob",children:e=>{return r=x(),i(r,"blur",e().handleBlur),r.$$input=r=>e().handleChange(r.currentTarget.value),d(()=>r.value=e().state.value||""),r;var r}}),null),l(F,s(S.Field,{name:"sex",children:e=>{return r=y(),i(r,"blur",e().handleBlur),r.$$input=r=>e().handleChange(r.currentTarget.value),d(()=>r.value=e().state.value),r;var r}}),null),B.$$click=()=>n({to:"/patients"}),l(T,()=>C()||o.isPending?"Savingâ€¦":"Save patient"),d(()=>T.disabled=C()||o.isPending),e})()};o(["click","input"]);export{C as component};
