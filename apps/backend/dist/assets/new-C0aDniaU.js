import{e,C as t,f as a,g as n,t as l,i,c as r,h as s,j as d,m as o}from"./index-DCtdVlbU.js";import{u}from"./index-BA7OnkC-.js";var m=l('<div class="min-h-screen p-6 space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl md:text-3xl font-bold text-gray-100">New Appointment</h1><p class=text-gray-200>Create and schedule a new appointment</p></div></div><form class="rounded-lg shadow-sm border border-gray-200 p-6 grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm mb-1"for=start_time>Start time</label></div><div><label class="block text-sm mb-1"for=end_time>End time</label></div><div class=md:col-span-2><label class="block text-sm mb-1"for=reason>Reason</label></div><div class=md:col-span-2><label class="block text-sm mb-1"for=notes>Notes</label></div><div class="md:col-span-2 flex justify-end gap-2 mt-2"><button type=button class="rounded border px-3 py-2">Cancel</button><button type=submit class="rounded bg-indigo-600 px-3 py-2 text-white">'),c=l('<input id=start_time name=start_time type=datetime-local required class="w-full rounded border px-3 py-2">'),p=l('<input id=end_time name=end_time type=datetime-local class="w-full rounded border px-3 py-2">'),b=l('<input id=reason name=reason class="w-full rounded border px-3 py-2">'),v=l('<textarea id=notes name=notes class="w-full rounded border px-3 py-2"rows=3>');const g=function(){const l=e(),o=u(t.Appointments),[g,h]=a(!1),x=n(()=>({defaultValues:{start_time:"",end_time:"",reason:"",notes:""},onSubmit:async({value:e})=>{try{h(!0),await o.mutateAsync({data:{start_time:e.start_time?new Date(e.start_time).toISOString():(new Date).toISOString(),end_time:e.end_time?new Date(e.end_time).toISOString():void 0,status:"scheduled",notes:e.notes||"",reason:e.reason||"",patient:[],doctor:[],clinic:[]}}),l({to:"/appointments"})}finally{h(!1)}}}));return(()=>{var e=m(),t=e.firstChild.nextSibling,a=t.firstChild;a.firstChild;var n=a.nextSibling;n.firstChild;var u=n.nextSibling;u.firstChild;var h=u.nextSibling;h.firstChild;var f=h.nextSibling.firstChild,y=f.nextSibling;return t.addEventListener("submit",e=>{e.preventDefault(),x.handleSubmit()}),i(a,r(x.Field,{name:"start_time",validators:{onChange:({value:e})=>e?void 0:"Start time is required"},children:e=>{return t=c(),s(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),d(()=>t.value=e().state.value||""),t;var t}}),null),i(n,r(x.Field,{name:"end_time",children:e=>{return t=p(),s(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),d(()=>t.value=e().state.value||""),t;var t}}),null),i(u,r(x.Field,{name:"reason",children:e=>{return t=b(),s(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),d(()=>t.value=e().state.value||""),t;var t}}),null),i(h,r(x.Field,{name:"notes",children:e=>{return t=v(),s(t,"blur",e().handleBlur),t.$$input=t=>e().handleChange(t.currentTarget.value),d(()=>t.value=e().state.value||""),t;var t}}),null),f.$$click=()=>l({to:"/appointments"}),i(y,()=>g()||o.isPending?"Creatingâ€¦":"Create appointment"),d(()=>y.disabled=g()||o.isPending),e})()};o(["click","input"]);export{g as component};
